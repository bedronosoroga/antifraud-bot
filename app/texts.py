from __future__ import annotations

from app.config import cfg, PAYMENTS_SANDBOX_NOTE


def _plural(n: int, one: str, few: str, many: str) -> str:
    """
    –†—É—Å—Å–∫–∏–µ —Å–∫–ª–æ–Ω–µ–Ω–∏—è: "1 –¥–µ–Ω—å / 2 –¥–Ω—è / 5 –¥–Ω–µ–π", —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ª—é–±—ã—Ö —Å–ª–æ–≤.
    """

    n_abs = abs(n)
    if 11 <= n_abs % 100 <= 14:
        return many
    tail = n_abs % 10
    if tail == 1:
        return one
    if tail in {2, 3, 4}:
        return few
    return many


def fmt_rub(amount: int) -> str:
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç '299 ‚ÇΩ' –±–µ–∑ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–π —Ç—ã—Å—è—á.
    """

    return f"{amount} ‚ÇΩ"


def fmt_rub_from_kop(amount_kop: int) -> str:
    rub, kop = divmod(amount_kop, 100)
    if kop == 0:
        return f"{rub} ‚ÇΩ"
    return f"{rub}.{kop:02d} ‚ÇΩ"


def bullet_list(items: list[str]) -> str:
    """
    –°–∫–ª–µ–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫ –≤ –º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å '‚Ä¢ '. –ü—É—Å—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.
    """

    filtered = [item for item in items if item and item.strip()]
    return "\n".join(f"‚Ä¢ {line}" for line in filtered)


def fmt_percent(numerator: int, denominator: int) -> str:
    """
    –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ, –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ —Ü–µ–ª—ã—Ö.
    –ü—Ä–∏–º–µ—Ä—ã:
    >>> fmt_percent(0, 20)
    '0%'
    >>> fmt_percent(3, 20)
    '15%'
    >>> fmt_percent(20, 20)
    '100%'
    """

    if denominator <= 0:
        return "0%"
    numerator = max(numerator, 0)
    if numerator == 0:
        return "0%"
    percent = round(100 * numerator / denominator)
    return f"{percent}%"


def progress_bar(used: int, total: int, blocks: int = 5) -> str:
    """
    –†–∏—Å—É–µ—Ç –±–∞—Ä ‚ñ∞/‚ñ± –ø–æ —Ñ–∞–∫—Ç—É used/total.
    - total <= 0 -> —Å—á–∏—Ç–∞–µ–º total = 1, used = min(used, 1)
    - used < 0 -> 0; used > total -> total
    –í—Å–µ–≥–¥–∞ 0..blocks –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö ‚ñ∞.
    –ü—Ä–∏–º–µ—Ä—ã:
    >>> progress_bar(0, 20, 5)
    '‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±'
    >>> progress_bar(10, 20, 5)
    '‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±'
    >>> progress_bar(20, 20, 5)
    '‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞'
    """

    if blocks <= 0:
        raise ValueError("blocks must be positive")
    if total <= 0:
        total = 1
        used = min(used, 1)
    used = max(0, min(used, total))
    if used == 0:
        filled = 0
    else:
        filled = -(-used * blocks // total)
    filled = min(filled, blocks)
    empty = blocks - filled
    return "‚ñ∞" * filled + "‚ñ±" * empty


HISTORY_RISK_LABELS = {
    "none": "–Ω–µ—Ç",
    "scarce": "–Ω–µ—Ç (–¥–∞–Ω–Ω—ã—Ö –º–∞–ª–æ)",
    "unknown": "–Ω–µ—Ç (–Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –≤ —Ä–µ–µ—Å—Ç—Ä–∞—Ö)",
    "elevated": "–ø–æ–≤—ã—à–µ–Ω–Ω—ã–π",
    "critical": "–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π",
}

REPORT_EMOJI = {
    "A": "üü¢",
    "B": "üü°",
    "C": "üü°",
    "D": "üî¥",
    "E": "üü°",
}


def mask_ati(code: str) -> str:
    return "****"


def format_history_entry(
    *,
    ati: str,
    ts_str: str,
    lin: int,
    exp: int,
    risk: str,
    report_type: str,
    masked: bool,
) -> str:
    code_display = mask_ati(ati) if masked else ati
    ts_str = f"{ts_str} –ø–æ –ú–°–ö"

    if risk == "critical":
        dot = "üî¥"
        risk_text = "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π"
    elif risk == "elevated":
        dot = "üü°"
        risk_text = "–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π"
    else:
        if lin >= 2 or exp >= 5:
            dot = "üü¢"
            risk_text = "–ù–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω"
        else:
            dot = "üü°"
            risk_text = "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö"

    return (
        f"{dot} <b>{code_display}</b> ¬∑ {ts_str}\n"
        f"–ü–µ—Ä–µ–≤–æ–∑—á–∏–∫: {lin} ¬∑ –≠–∫—Å–ø–µ–¥–∏—Ç–æ—Ä: {exp}\n"
        f"üõ° –†–∏—Å–∫: {risk_text}"
    )


def history_title(page: int) -> str:
    suffix = f" ‚Äî —Å—Ç—Ä. {page}" if page > 1 else ""
    return f"<b>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫{suffix}</b>"


def history_empty_text() -> str:
    return (
        "<b>–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞.</b>\n\n"
        "–°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–æ–≤–µ—Ä–∫—É ‚Äî –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏—à–ª–∏—Ç–µ <b>–∫–æ–¥ –ê–¢–ò</b> (–¥–æ 7 —Ü–∏—Ñ—Ä)."
    )


def hero_banner() -> str:
    return "üõ° <b>–ê–Ω—Ç–∏—Ñ—Ä–æ–¥. –î–æ–≤–µ—Ä—è–π —Ç–µ–º, –∫—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω.</b>"


def start_onboarding_message() -> str:
    return (
        "üõ° <b>–ü—Ä–∏–≤–µ—Ç! –Ø ‚Äî –ê–Ω—Ç–∏—Ñ—Ä–æ–¥.</b>\n"
        "–ü–æ–º–æ–≥—É –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–ø–∞–Ω–∏—é <b>–ø–æ –∫–æ–¥—É –ê–¢–ò</b>, —á—Ç–æ–±—ã –≤—ã –Ω–µ —Ä–∏—Å–∫–æ–≤–∞–ª–∏ —Å–¥–µ–ª–∫–æ–π.\n\n"
        "üìé <b>–ß—Ç–æ —è –ø—Ä–æ–≤–µ—Ä—è—é</b>\n"
        "–ö–æ–¥ –ê–¢–ò –∫–æ–º–ø–∞–Ω–∏–∏ (–¥–æ 7 —Ü–∏—Ñ—Ä).\n"
        "–ü—Ä–∏–º–µ—Ä: <code>1234567</code>\n\n"
        "üìä <b>–ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ</b>\n"
        "<b>–ò–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞</b> –∏ <b>–ò–Ω–¥–µ–∫—Å —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞</b> ‚Äî —ç—Ç–æ —Å—á—ë—Ç—á–∏–∫–∏: –æ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —Å–∫–æ–ª—å–∫–æ –Ω–∞–¥—ë–∂–Ω—ã—Ö –∫—Ä—É–ø–Ω—ã—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞–ª–∏ —Å –∫–æ–º–ø–∞–Ω–∏–µ–π –∑–∞ –≥–æ–¥ –ø–æ –Ω–∞—à–∏–º –¥–∞–Ω–Ω—ã–º.\n"
        "<b>–§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞</b> ‚Äî —Å–∏–≥–Ω–∞–ª—ã –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Ñ–∏–ª—é –Ω–∞ –ê–¢–ò.\n"
        "<b>–ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥</b> ‚Äî –ø—Ä–æ—Å—Ç–∞—è –æ—Ü–µ–Ω–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ–≤–µ—Ä–∏—è.\n\n"
        "üéÅ –ù–∞ —Å—Ç–∞—Ä—Ç–µ –º—ã –Ω–∞—á–∏—Å–ª–∏–ª–∏ –≤–∞–º <b>3 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞</b>. "
        "–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥ –ê–¢–ò ‚Äî —è —Å—Ñ–æ—Ä–º–∏—Ä—É—é –ø–µ—Ä–≤—ã–π –æ—Ç—á—ë—Ç."
    )


def menu_help_text() -> str:
    return (
        "üõ° <b>–ß—Ç–æ —è –ø—Ä–æ–≤–µ—Ä—è—é</b>\n"
        "–ö–æ–¥ –ê–¢–ò –∫–æ–º–ø–∞–Ω–∏–∏ (–¥–æ 7 —Ü–∏—Ñ—Ä).\n" 
        "–ü—Ä–∏–º–µ—Ä: <code>1234567</code>\n\n"
        "üìä <b>–ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ</b>\n"
        "<b>–ò–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞</b> ‚Äî —ç—Ç–æ —á–∏—Å–ª–æ, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–µ–µ, —Å–æ —Å–∫–æ–ª—å–∫–∏–º–∏ –Ω–∞–¥—ë–∂–Ω—ã–º–∏ –∑–∞–∫–∞–∑—á–∏–∫–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏—è —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–∞ –ø–æ –Ω–∞—à–∏–º –¥–∞–Ω–Ω—ã–º –∑–∞ –≥–æ–¥.\n"
        "<b>–ò–Ω–¥–µ–∫—Å —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞</b> ‚Äî —ç—Ç–æ —á–∏—Å–ª–æ, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–µ–µ, —Å–æ —Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞–º–∏ –∫–æ–º–ø–∞–Ω–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞–ª–∞ –ø–æ –Ω–∞—à–∏–º –¥–∞–Ω–Ω—ã–º –∑–∞ –≥–æ–¥.\n"
        "<i>–ù–∞–ø—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫ 8, —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä 5 ‚Äî —ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ —É –∫–æ–º–ø–∞–Ω–∏–∏ 13 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π —Å –Ω–∞–¥—ë–∂–Ω—ã–º–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏.</i>\n"
        "<b>–§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞</b> ‚Äî —Å–∏–≥–Ω–∞–ª—ã –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Ñ–∏–ª—é –Ω–∞ –ê–¢–ò.\n"
        "<b>–ö—Ä–∞—Ç–∫–∏–π –≤—ã–≤–æ–¥</b> ‚Äî –ø—Ä–æ—Å—Ç–∞—è –æ—Ü–µ–Ω–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ–≤–µ—Ä–∏—è.\n\n"
        "üìò <b>–ö–∞–∫ —á–∏—Ç–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∏—Å–∫–∞</b>\n"
        "üü¢ –ù–∏–∑–∫–∏–π | üü° –°—Ä–µ–¥–Ω–∏–π | üî¥ –í—ã—Å–æ–∫–∏–π\n\n"
        "‚ÑπÔ∏è –ï—Å–ª–∏ —É –≤–∞—Å –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –∑–∞–ø—Ä–æ—Å—ã, –≤ 00:00 –ø–æ –ú–°–ö –º—ã –Ω–∞—á–∏—Å–ª–∏–º <b>1 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π</b>, —á—Ç–æ–±—ã –≤—ã –≤—Å–µ–≥–¥–∞ –º–æ–≥–ª–∏ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É."
    )


def report_actions_text() -> str:
    return "‚ö°Ô∏è <b>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</b>\n–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ."


def request_prompt_text(balance: int) -> str:
    return (
        "üîé <b>–°–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å</b>\n\n"
        "–ü—Ä–∏—à–ª–∏—Ç–µ <b>–∫–æ–¥ –ê–¢–ò</b> (–¥–æ 7 —Ü–∏—Ñ—Ä). –ü—Ä–∏–º–µ—Ä: <code>1234567</code>.\n"
        f"<b>–î–æ—Å—Ç—É–ø–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤:</b> {balance}"
    )


def request_limit_text() -> str:
    return (
        "‚ö†Ô∏è <b>–õ–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å—á–µ—Ä–ø–∞–Ω.</b>\n\n"
        "–ß—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å, –∫—É–ø–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã ‚Äî –¥–æ—Å—Ç—É–ø –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.\n"
        "–ò–ª–∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ: –∑–∞–≤—Ç—Ä–∞ –≤ <b>00:00 –ø–æ –ú–°–ö</b> –¥–æ–±–∞–≤–∏—Ç—Å—è <b>1 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π</b>."
    )


def free_requests_info() -> str:
    return (
        "üõ° <b>–ö–∞–∫ –ø–æ–ª—É—á–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –±–µ—Å–ø–ª–∞—Ç–Ω–æ?</b>\n\n"
        "–ü–æ–º–æ–≥–∞–π—Ç–µ –¥—Ä—É–∑—å—è–º –∏ –∫–æ–ª–ª–µ–≥–∞–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤ ‚Äî –∑–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "
        "–Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è <b>+1 –∑–∞–ø—Ä–æ—Å</b>."
    )


def payment_packages_intro(balance: int) -> str:
    return (
        "üí≥ <b>–ö—É–ø–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã</b>\n\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç ‚Äî –¥–æ—Å—Ç—É–ø –æ—Ç–∫—Ä–æ–µ—Ç—Å—è <b>–º–≥–Ω–æ–≤–µ–Ω–Ω–æ</b>.\n"
        f"<b>–î–æ—Å—Ç—É–ø–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–µ–π—á–∞—Å:</b> {balance}"
    )


def payment_confirm_text(qty: int, price_rub: int) -> str:
    return f"–û–ø–ª–∞—Ç–∏—Ç—å <b>{price_rub} ‚ÇΩ</b> –∑–∞ <b>{qty}</b> –∑–∞–ø—Ä–æ—Å–æ–≤?"


def payment_method_text() -> str:
    return (
        "üí≥ <b>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</b>\n\n"
        "–î–æ—Å—Ç—É–ø –æ—Ç–∫—Ä–æ–µ—Ç—Å—è <b>–º–≥–Ω–æ–≤–µ–Ω–Ω–æ</b> –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã."
    )


def payment_pending_text() -> str:
    return "–ü–µ—Ä–µ–≤—ë–ª(–∞) –Ω–∞ –ø–ª–∞—Ç—ë–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É. –ó–∞–≤–µ—Ä—à–∏—Ç–µ –æ–ø–ª–∞—Ç—É –∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –±–æ—Ç–∞."


def payment_success_text(granted: int, balance: int) -> str:
    return (
        f"–ì–æ—Ç–æ–≤–æ. –ù–∞—á–∏—Å–ª–µ–Ω–æ <b>+{granted}</b>.\n"
        f"<b>–î–æ—Å—Ç—É–ø–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤:</b> {balance}"
    )


def payment_error_text(kind: str) -> str:
    mapping = {
        "error": "–ü–ª–∞—Ç—ë–∂ –Ω–µ –ø—Ä–æ—à—ë–ª. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.",
        "cancel": "–û–ø–ª–∞—Ç–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞. –ó–∞–ø—Ä–æ—Å—ã –Ω–µ –Ω–∞—á–∏—Å–ª—è–ª–∏—Å—å.",
        "timeout": "–ü–æ—Ö–æ–∂–µ, –æ–ø–ª–∞—Ç–∞ –Ω–µ –±—ã–ª–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ï—Å–ª–∏ —Å–ø–∏—Å–∞–Ω–∏—è –Ω–µ –±—ã–ª–æ ‚Äî –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",
        "duplicate": "–ú—ã —É–∂–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∏ –æ–ø–ª–∞—Ç—É –ø–æ —ç—Ç–æ–º—É —Å—á—ë—Ç—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∑–∞–ø—Ä–æ—Å–æ–≤.",
        "stars": "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ Telegram Stars –¥–ª—è –æ–ø–ª–∞—Ç—ã. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",
    }
    return mapping.get(kind, mapping["error"])


def profile_text(
    *,
    tg_id: int,
    registered_at: str,
    since_phrase: str,
    balance: int,
    company_ati: Optional[str],
    has_history: bool,
) -> str:
    company_line = (
        f"<b>–í–∞—à –∫–æ–¥ –ê–¢–ò:</b> {company_ati}"
        if company_ati
        else "<b>–í–∞—à –∫–æ–¥ –ê–¢–ò:</b> –Ω–µ —É–∫–∞–∑–∞–Ω"
    )
    bonus_lines = []
    if not has_history:
        bonus_lines.append("üéÅ –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –Ω–∞—á–∏—Å–ª—è–µ–º <b>3 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞</b>.")
    bonus_block = "\n".join(bonus_lines)
    return (
        (
            "üë§ <b>–ü—Ä–æ—Ñ–∏–ª—å</b>\n\n"
            f"<b>–í–∞—à TG ID:</b> {tg_id}\n"
            f"{company_line}\n"
            f"<b>–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</b> {registered_at} ({since_phrase})\n"
            f"<b>–î–æ—Å—Ç—É–ø–Ω–æ –∑–∞–ø—Ä–æ—Å–æ–≤:</b> {balance}\n\n"
        )
        + (bonus_block + "\n" if bonus_block else "")
        + "–ï—Å–ª–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç <b>00:00 –ø–æ –ú–°–ö</b> —É –≤–∞—Å <b>0</b> –∑–∞–ø—Ä–æ—Å–æ–≤, –º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–∏—Å–ª–∏–º –µ—â—ë <b>+1</b>."
    )


def profile_code_prompt(current: Optional[str]) -> str:
    current_line = f"–°–µ–π—á–∞—Å: {current}." if current else "–°–µ–π—á–∞—Å: –Ω–µ —É–∫–∞–∑–∞–Ω."
    return f"‚úèÔ∏è <b>–ú–æ–π –∫–æ–¥ –ê–¢–ò</b>\n\n{current_line}\n–û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –∫–æ–¥ (–¥–æ 7 —Ü–∏—Ñ—Ä)."


def profile_code_saved(ati: str) -> str:
    return f"–ì–æ—Ç–æ–≤–æ. –ú–æ–π –∫–æ–¥ –ê–¢–ò: {ati}."


def method_page1_text() -> str:
    return (
        "‚ÑπÔ∏è <b>–ú–µ—Ç–æ–¥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ (1/3)</b>\n\n"
        "üìä <b>–ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω–¥–µ–∫—Å</b>\n"
        "–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, <b>–∏–Ω–¥–µ–∫—Å</b> ‚Äî —ç—Ç–æ —Å—á—ë—Ç—á–∏–∫. –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ –Ω–∞–¥—ë–∂–Ω—ã—Ö –∫—Ä—É–ø–Ω—ã—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–∏ —Å –∫–æ–º–ø–∞–Ω–∏–µ–π –ø–æ –Ω–∞—à–∏–º –¥–∞–Ω–Ω—ã–º.\n\n"
        "üöõ <b>–î–≤–∞ –≤–∏–¥–∞ –∏–Ω–¥–µ–∫—Å–æ–≤</b>\n"
        "‚Ä¢ <b>–ò–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞</b> ‚Äî —Å–∫–æ–ª—å–∫–æ –Ω–∞–¥—ë–∂–Ω—ã—Ö –∑–∞–∫–∞–∑—á–∏–∫–æ–≤ (—ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –≥—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π) –∏–º–µ–ª–∏ —Å –∫–æ–º–ø–∞–Ω–∏–µ–π –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –∑–∞ –≥–æ–¥.\n"
        "‚Ä¢ <b>–ò–Ω–¥–µ–∫—Å —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞</b> ‚Äî —Å–∫–æ–ª—å–∫–æ –Ω–∞–¥—ë–∂–Ω—ã—Ö –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–∞–ª–∏ —Å —ç—Ç–æ–π –∫–æ–º–ø–∞–Ω–∏–µ–π –∑–∞ –≥–æ–¥.\n\n"
        "–ù–∞ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–∞—Ö ‚Äî –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏ –∫–∞–∫ —á–∏—Ç–∞—Ç—å —ç—Ç–∏ —Ü–∏—Ñ—Ä—ã."
    )


def method_page2_text() -> str:
    return (
        "‚ÑπÔ∏è <b>–ú–µ—Ç–æ–¥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ (2/3)</b>\n\n"
        "üìò <b>–û—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –¥–∞–Ω–Ω—ã–µ</b>\n"
        "–ò–Ω–¥–µ–∫—Å—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ <b>–æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ê–¢–ò</b> –∏ <b>–∑–∞–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤</b>, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∫—Ä—É–ø–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –∏—Ö —Å–ª—É–∂–±—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.\n\n"
        "–ú—ã —É—á–∏—Ç—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ <b>–∫—Ä—É–ø–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ä—ã–Ω–∫–∞</b> ‚Äî –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ <b>—Ç–æ–ø-100 —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–æ–≤ –∏ –≥—Ä—É–∑–æ–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π</b> –∏ <b>—Ç–æ–ø-500 –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–æ–≤ –†–æ—Å—Å–∏–∏</b>. <b>–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏ —Ç–æ—á–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞</b> –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç—Å—è, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∞ –∏ –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–ø—ã—Ç–æ–∫ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏.\n\n"
    )


def method_page3_text() -> str:
    return (
        "‚ÑπÔ∏è <b>–ú–µ—Ç–æ–¥–∏–∫–∞ —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ (3/3)</b>\n\n"
        "üß© <b>–ö–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∏–Ω–¥–µ–∫—Å–∞–º–∏</b>\n"
        "–ò–Ω–¥–µ–∫—Å—ã –Ω–µ –¥–µ–ª—è—Ç –∫–æ–º–ø–∞–Ω–∏–∏ –Ω–∞ ¬´—Ö–æ—Ä–æ—à–∏–µ¬ª –∏ ¬´–ø–ª–æ—Ö–∏–µ¬ª –∏ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –≥–∞—Ä–∞–Ω—Ç–∏–µ–π. "
        "–≠—Ç–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –ø–æ–Ω—è—Ç—å, –µ—Å—Ç—å –ª–∏ —É –∫–æ–º–ø–∞–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏—è —Ä–∞–±–æ—Ç—ã —Å –Ω–∞–¥—ë–∂–Ω—ã–º–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏.\n\n"
        "‚ùï –ü–æ –Ω–∞—à–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è–º, —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä—ã —Å <b>–∏–Ω–¥–µ–∫—Å–æ–º —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞ –æ—Ç 5 –∏ –≤—ã—à–µ</b> –∏ –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∏ —Å <b>–∏–Ω–¥–µ–∫—Å–æ–º –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞ –æ—Ç 2 –∏ –≤—ã—à–µ</b> "
        "–æ–±—ã—á–Ω–æ —É–∂–µ –∏–º–µ—é—Ç –∑–∞–º–µ—Ç–Ω—ã–π –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –Ω–∞–¥—ë–∂–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞–º–∏. "
        "–û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ —Å–¥–µ–ª–∫–µ –≤—Å–µ–≥–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –∑–∞ –≤–∞–º–∏ ‚Äî –∏–Ω–¥–µ–∫—Å—ã –ª–∏—à—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞."
    )




# –î–µ–π—Å—Ç–≤–∏—è
ACTION_BTN_CHECK = "–ï—â—ë –ø—Ä–æ–≤–µ—Ä–∫–∞"
ACTION_BTN_HISTORY = "–ò—Å—Ç–æ—Ä–∏—è"
ACTION_BTN_MENU = "–í –º–µ–Ω—é"

# –ù–∞–≤–∏–≥–∞—Ü–∏—è
BTN_BACK = "–ù–∞–∑–∞–¥"
BTN_MENU = ACTION_BTN_MENU
BTN_MORE = "–î–∞–ª—å—à–µ"

# –ü–æ–∫—É–ø–∫–∞/–æ–ø–ª–∞—Ç–∞
BTN_BUY_P20 = "–ö—É–ø–∏—Ç—å 20"
BTN_BUY_P50 = "–ö—É–ø–∏—Ç—å 50"
BTN_BUY_UNLIM = "–ö—É–ø–∏—Ç—å –ë–µ–∑–ª–∏–º–∏—Ç"
BTN_REPEAT_PAYMENT = "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –æ–ø–ª–∞—Ç—É"
BTN_CHOOSE_ANOTHER_PLAN = "–í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–ª–∞–Ω"
BTN_PAY_SUPPORT = "–í –ø–æ–¥–¥–µ—Ä–∂–∫—É"
DEMO_PAYMENT_HEADER = "–û–ø–ª–∞—Ç–∞ (–¥–µ–º–æ)"
DEMO_PAYMENT_NOTE = PAYMENTS_SANDBOX_NOTE
DEMO_PAYMENT_CREATED = "–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω. –î–ª—è —Ç–µ—Å—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç–µ –æ–ø–ª–∞—Ç—É."
DEMO_PAYMENT_CONFIRMED = "‚úÖ –û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ (–¥–µ–º–æ). –î–æ—Å—Ç—É–ø –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω."
DEMO_PAYMENT_REJECTED = "‚ùå –û–ø–ª–∞—Ç–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ (–¥–µ–º–æ). –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞."
PAYMENT_TERMS_NOTE = (
    "–û–ø–ª–∞—á–∏–≤–∞—è, –≤—ã –ø—Ä–∏–Ω–∏–º–∞–µ—Ç–µ <a href=\"https://telegra.ph/POLZOVATELSKOE-SOGLAShENIE-USLOVIYa-SERVISA-11-05\">–£—Å–ª–æ–≤–∏—è —Å–µ—Ä–≤–∏—Å–∞</a> "
    "–∏ <a href=\"https://telegra.ph/Publichnaya-oferta-na-okazanie-uslug-11-05\">–û—Ñ–µ—Ä—Ç—É</a>. "
    "<a href=\"https://telegra.ph/POLITIKA-KONFIDENCIALNOSTI-11-05-47\">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>. "
    "<a href=\"https://telegra.ph/PRAVOVOE-UVEDOMLENIE-O-HARAKTERE-SVEDENIJ-I-PORYADKE-OSPARIVANIYa-11-05\">–ü—Ä–∞–≤–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</a>. "
    "<a href=\"https://telegra.ph/Kontakty-i-rekvizity-11-05\">–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã</a>."
)

# –ü–æ–¥–¥–µ—Ä–∂–∫–∞/FAQ
BTN_SUPPORT = "–ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º"
BTN_FAQ = "FAQ"

# –†–µ—Ñ–µ—Ä–∞–ª–∫–∞
BTN_MY_REF_LINK = "–ú–æ—è —Å—Å—ã–ª–∫–∞"
BTN_HOW_IT_WORKS = "–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç"
BTN_REF_COPY = "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å"
BTN_REF_SHARE = "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"
BTN_REF_SPEND_20 = "–ö—É–ø–∏—Ç—å 20 –∏–∑ –±–∞–ª–∞–Ω—Å–∞"
BTN_REF_SPEND_50 = "–ö—É–ø–∏—Ç—å 50 –∏–∑ –±–∞–ª–∞–Ω—Å–∞"
BTN_REF_SPEND_UNLIM = "–ö—É–ø–∏—Ç—å –ë–µ–∑–ª–∏–º–∏—Ç –∏–∑ –±–∞–ª–∞–Ω—Å–∞"
BTN_REF_WITHDRAW = "–í—ã–≤–æ–¥"

# –ö–æ–º–ø–∞–Ω–∏—è –ê–¢–ò
BTN_WHY_ASK = "–ü–æ—á–µ–º—É —Å–ø—Ä–∞—à–∏–≤–∞–µ–º?"
BTN_SET_LATER = "–£–∫–∞–∑–∞—Ç—å –ø–æ–∑–∂–µ"
BTN_SET_NOW = "–£–∫–∞–∑–∞—Ç—å"
BTN_CHANGE_CODE = "–ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥"
BTN_CHECK_THIS_CODE = "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–¥"


def hint_send_code() -> str:
    """–ì–ª–∞–≤–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞."""

    return "üîé –ü—Ä–∏—à–ª–∏—Ç–µ –∫–æ–¥ –ê–¢–ò (–¥–æ 7 —Ü–∏—Ñ—Ä) ‚Äî –æ—Ç–≤–µ—Ç–∏–º —Å—Ä–∞–∑—É."


def invalid_input_non_digits() -> str:
    """–°–æ–æ–±—â–∞–µ—Ç –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–∏—Å–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã."""

    return "–ü–æ—Ö–æ–∂–µ, —ç—Ç–æ –Ω–µ —Ü–∏—Ñ—Ä—ã. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–æ–º–µ—Ä."


def err_need_digits_upto_7() -> str:
    """–°–æ–æ–±—â–∞–µ—Ç –æ –Ω–µ–≤–µ—Ä–Ω–æ–π –¥–ª–∏–Ω–µ –∫–æ–¥–∞ (–¥–æ 7 —Ü–∏—Ñ—Ä)."""

    return (
        "‚ö†Ô∏è <b>–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å –∫–æ–¥.</b>\n\n"
        "–ö–æ–¥ –ê–¢–ò –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º –¥–æ 7 —Ü–∏—Ñ—Ä.\n"
        "–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∫–æ–¥ ‚Äî —Å—Ä–∞–∑—É –ø—Ä–æ–≤–µ—Ä–∏–º."
    )


def err_need_digits_3_7() -> str:
    """–°–æ–æ–±—â–∞–µ—Ç –æ –Ω–µ–≤–µ—Ä–Ω–æ–π –¥–ª–∏–Ω–µ –∫–æ–¥–∞."""

    return err_need_digits_upto_7()


def too_many_requests() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤."""

    return "–°–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ –ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å–¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."


def throttle_msg(seconds: int) -> str:
    """–° —É—á—ë—Ç–æ–º —Å–∫–ª–æ–Ω–µ–Ω–∏—è."""

    unit = _plural(seconds, "—Å–µ–∫—É–Ω–¥—É", "—Å–µ–∫—É–Ω–¥—ã", "—Å–µ–∫—É–Ω–¥")
    return f"–ü–æ–¥–æ–∂–¥–∏—Ç–µ {seconds} {unit} –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π."


def plans_list() -> str:
    """
    –°–ø–∏—Å–æ–∫ –ø–ª–∞–Ω–æ–≤ –ø–æ cfg.plans: p20(299), p50(469), unlim(799, cap).
    –§–æ—Ä–º–∞—Ç: '–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–ª–∞–Ω—ã:\n‚Ä¢ 20 –ø—Ä–æ–≤–µ—Ä–æ–∫ ‚Äî 299 ‚ÇΩ/–º–µ—Å\n...'
    """

    plan_p20 = cfg.plans.get("p20")
    plan_p50 = cfg.plans.get("p50")
    plan_unlim = cfg.plans.get("unlim")

    lines: list[str] = []
    if plan_p20 is not None:
        lines.append(f"20 –ø—Ä–æ–≤–µ—Ä–æ–∫ ‚Äî {fmt_rub(plan_p20.price_rub)}/–º–µ—Å")
    if plan_p50 is not None:
        lines.append(f"50 –ø—Ä–æ–≤–µ—Ä–æ–∫ ‚Äî {fmt_rub(plan_p50.price_rub)}/–º–µ—Å")
    if plan_unlim is not None:
        cap_suffix = f" (–¥–æ {plan_unlim.daily_cap} –≤ —Å—É—Ç–∫–∏)" if plan_unlim.daily_cap else ""
        lines.append(f"–ë–µ–∑–ª–∏–º–∏—Ç ‚Äî {fmt_rub(plan_unlim.price_rub)}/–º–µ—Å{cap_suffix}")

    body = bullet_list(lines)
    return f"–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–ª–∞–Ω—ã:\n{body}" if body else "–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–ª–∞–Ω—ã:"


def paywall_no_checks() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω—É–ª–µ–≤–æ–º –æ—Å—Ç–∞—Ç–∫–µ –ø—Ä–æ–≤–µ—Ä–æ–∫."""

    return "–ü—Ä–æ–≤–µ—Ä–æ–∫ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å.\n\n" + plans_list()


def payment_success(expires_date: str, extra_tail: str = "") -> str:
    """
    '–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ ‚úî –ü–æ–¥–ø–∏—Å–∫–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}. –û—Å—Ç–∞—Ç–æ–∫ –æ–±–Ω–æ–≤–ª—ë–Ω.'
    –ï—Å–ª–∏ extra_tail –Ω–µ –ø—É—Å—Ç ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–æ–π.
    """

    base = f"–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ ‚úî –ü–æ–¥–ø–∏—Å–∫–∞ –¥–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}. –û—Å—Ç–∞—Ç–æ–∫ –æ–±–Ω–æ–≤–ª—ë–Ω."
    if extra_tail:
        return base + "\n" + extra_tail
    return base


def payment_incomplete() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–º –ø–ª–∞—Ç–µ–∂–µ."""

    return "–ü–ª–∞—Ç—ë–∂ –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω. –ß—Ç–æ –¥–µ–ª–∞–µ–º?"


def payment_timeout() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–º –ø–ª–∞—Ç–µ–∂–µ."""

    return "–ü–ª–∞—Ç—ë–∂ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω."


def payment_failed_try_again() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ—É–¥–∞—á–Ω–æ–π –æ–ø–ª–∞—Ç–µ."""

    return "–û–ø–ª–∞—Ç–∞ –Ω–µ –ø—Ä–æ—à–ª–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±."


def refund_processed() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–º –≤–æ–∑–≤—Ä–∞—Ç–µ."""

    return "–í–æ–∑–≤—Ä–∞—Ç –æ—Ñ–æ—Ä–º–ª–µ–Ω. –°—Ä–æ–∫ –∏ –æ—Å—Ç–∞—Ç–æ–∫ —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã."


def free_pack_status(left: int, until: str) -> str:
    """'–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –æ—Å—Ç–∞–ª–æ—Å—å: {left} ‚Ä¢ –î–æ: {until}'."""

    return f"–ë–µ—Å–ø–ª–∞—Ç–Ω–æ –æ—Å—Ç–∞–ª–æ—Å—å: {left} ‚Ä¢ –î–æ: {until}"


def nudge_enter_code() -> str:
    """–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –ê–¢–ò."""

    return "–ü—Ä–æ—Å—Ç–æ –ø—Ä–∏—à–ª–∏—Ç–µ –Ω–æ–º–µ—Ä –ê–¢–ò ‚Äî –ø—Ä–æ–≤–µ—Ä–∏–º —Å—Ä–∞–∑—É."


def free_expiring_24h(left: int, until: str) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–∫–æ—Ä–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫."""

    return f"–ï—â—ë –µ—Å—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ: {left}. –î–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: {until}. –ü—Ä–∏—à–ª–∏—Ç–µ –∫–æ–¥ ‚Äî –ø—Ä–æ–≤–µ—Ä–∏–º —Å–µ–π—á–∞—Å."


def free_low_left(left: int) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –º–∞–ª–æ–º –æ—Å—Ç–∞—Ç–∫–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫."""

    word = _plural(left, "–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞", "–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏", "–±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫")
    return f"–û—Å—Ç–∞–ª–æ—Å—å: {left} {word}. –£—Å–ø–µ–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å."


def payment_abandoned() -> str:
    """–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –±—Ä–æ—à–µ–Ω–Ω–æ–º –ø–ª–∞—Ç–µ–∂–µ."""

    return "–ü–ª–∞—Ç—ë–∂ –Ω–µ –∑–∞–≤–µ—Ä—à—ë–Ω. –í–µ—Ä–Ω—É—Ç—å—Å—è –∏ –∑–∞–∫–æ–Ω—á–∏—Ç—å?"


def inactive_with_active_subscription(days: int) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–µ."""

    unit = _plural(days, "–¥–µ–Ω—å", "–¥–Ω—è", "–¥–Ω–µ–π")
    return f"–£ –≤–∞—Å –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞, –Ω–æ {days} {unit} –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫. –ü—Ä–∏—à–ª–∏—Ç–µ –∫–æ–¥ ‚Äî –ø—Ä–æ–≤–µ—Ä–∏–º."


def winback_no_activity(days: int) -> str:
    """–í–æ–∑–≤—Ä–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ—Å–ª–µ –ø—Ä–æ—Å—Ç–æ—è."""

    unit = _plural(days, "–¥–µ–Ω—å", "–¥–Ω—è", "–¥–Ω–µ–π")
    return f"–î–∞–≤–Ω–æ –Ω–µ –∑–∞—Ö–æ–¥–∏–ª–∏ ({days} {unit}). –ù–∞–ø–æ–º–Ω–∏—Ç—å –ø–ª–∞–Ω—ã?\n" + plans_list()


def unlim_cap_hit_today(cap: int) -> str:
    """
    –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ —Å—É—Ç–æ—á–Ω–æ–≥–æ –ª–∏–º–∏—Ç–∞ –±–µ–∑–ª–∏–º–∏—Ç–∞.
    cap <= 0 -> —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—Ä–∞–∑–∞ –±–µ–∑ '0/—Å—É—Ç–∫–∏'.
    """

    if cap > 0:
        return f"–î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç {cap} –≤ —Å—É—Ç–∫–∏ –∏—Å—á–µ—Ä–ø–∞–Ω. –°—á—ë—Ç—á–∏–∫ –æ–±–Ω–æ–≤–∏—Ç—Å—è –∑–∞–≤—Ç—Ä–∞."
    return "–ë–µ–∑–ª–∏–º–∏—Ç –Ω–∞ —Å–µ–≥–æ–¥–Ω—è –∏—Å—á–µ—Ä–ø–∞–Ω. –°—á—ë—Ç—á–∏–∫ –æ–±–Ω–æ–≤–∏—Ç—Å—è –∑–∞–≤—Ç—Ä–∞."


def status_line_metered_exact(
    plan_title: str,
    used: int,
    total: int,
    expires_date: str,
    bar_blocks: int = 5,
) -> str:
    """
    '–ü–æ–¥–ø–∏—Å–∫–∞: {plan_title} ‚Ä¢ –û—Å—Ç–∞–ª–æ—Å—å: {left}/{total} ({pct_left}) ‚Ä¢ –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}\n{bar}'
    –≥–¥–µ left = max(0, total - used); pct_left = fmt_percent(left, total);
    bar = progress_bar(used_clamped, total_clamped, bar_blocks).
    Doctest:
    >>> s = status_line_metered_exact("50", used=10, total=50, expires_date="24.11")
    >>> "–û—Å—Ç–∞–ª–æ—Å—å: 40/50" in s and "(80%)" in s
    True
    """

    left = max(0, total - used)
    pct_left = fmt_percent(left, total)
    total_clamped = total if total > 0 else 0
    if total_clamped > 0:
        used_clamped = max(0, min(used, total_clamped))
    else:
        used_clamped = max(0, used)
    bar = progress_bar(used_clamped, total_clamped, bar_blocks)
    return (
        f"–ü–æ–¥–ø–∏—Å–∫–∞: {plan_title} ‚Ä¢ –û—Å—Ç–∞–ª–æ—Å—å: {left}/{total} ({pct_left}) ‚Ä¢ "
        f"–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}\n{bar}"
    )


def profile_overview_metered_exact(plan_title: str, used: int, total: int, expires_date: str) -> str:
    """
    '–ü–æ–¥–ø–∏—Å–∫–∞: {plan_title}\n–û—Å—Ç–∞–ª–æ—Å—å: {left}/{total} ({pct_left})\n–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}'
    """

    left = max(0, total - used)
    pct_left = fmt_percent(left, total)
    return (
        f"–ü–æ–¥–ø–∏—Å–∫–∞: {plan_title}\n"
        f"–û—Å—Ç–∞–ª–æ—Å—å: {left}/{total} ({pct_left})\n"
        f"–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}"
    )


def status_line_unlim(today_used: int, cap: int | None, expires_date: str, bar_blocks: int = 5) -> str:
    """
    –ü—Ä–∏ cap>0: '–ë–µ–∑–ª–∏–º–∏—Ç: –¥–æ {cap}/—Å—É—Ç–∫–∏ ‚Ä¢ –°–µ–≥–æ–¥–Ω—è: {today_used}/{cap} ({pct}) ‚Ä¢ –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}\n{bar}'
    –ü—Ä–∏ cap<=0/None: '–ë–µ–∑–ª–∏–º–∏—Ç ‚Ä¢ –°–µ–≥–æ–¥–Ω—è: {today_used} ‚Ä¢ –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}\n{bar}' (bar –ø–æ 1).
    Doctest:
    >>> "–°–µ–≥–æ–¥–Ω—è: 10/50 (20%)" in status_line_unlim(10, 50, "24.11")
    True
    >>> "0/—Å—É—Ç–∫–∏" in status_line_unlim(10, 0, "24.11")
    False
    """

    if cap and cap > 0:
        used_clamped = max(0, min(today_used, cap))
        pct = fmt_percent(used_clamped, cap)
        bar = progress_bar(used_clamped, cap, bar_blocks)
        return (
            f"–ë–µ–∑–ª–∏–º–∏—Ç: –¥–æ {cap}/—Å—É—Ç–∫–∏ ‚Ä¢ –°–µ–≥–æ–¥–Ω—è: {used_clamped}/{cap} ({pct}) ‚Ä¢ "
            f"–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}\n{bar}"
        )
    used_clamped = max(0, today_used)
    bar = progress_bar(used_clamped, 1, bar_blocks)
    return f"–ë–µ–∑–ª–∏–º–∏—Ç ‚Ä¢ –°–µ–≥–æ–¥–Ω—è: {used_clamped} ‚Ä¢ –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}\n{bar}"


def profile_overview_unlim(today_used: int, cap: int | None, expires_date: str) -> str:
    """
    '–ü–æ–¥–ø–∏—Å–∫–∞: –ë–µ–∑–ª–∏–º–∏—Ç{cap_suffix}\n–°–µ–≥–æ–¥–Ω—è: {today_used}{den}\n–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}'
    –≥–¥–µ cap_suffix = ' (–¥–æ {cap}/—Å—É—Ç–∫–∏)' –ø—Ä–∏ cap>0, –∏–Ω–∞—á–µ –ø—É—Å—Ç–æ; den = '/{cap}' –ø—Ä–∏ cap>0, –∏–Ω–∞—á–µ –ø—É—Å—Ç–æ.
    """

    if cap and cap > 0:
        cap_suffix = f" (–¥–æ {cap}/—Å—É—Ç–∫–∏)"
        denominator = f"/{cap}"
    else:
        cap_suffix = ""
        denominator = ""
    return (
        f"–ü–æ–¥–ø–∏—Å–∫–∞: –ë–µ–∑–ª–∏–º–∏—Ç{cap_suffix}\n"
        f"–°–µ–≥–æ–¥–Ω—è: {today_used}{denominator}\n"
        f"–î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: {expires_date}"
    )


def ref_program_text(
    *,
    link: str,
    balance_kop: int,
    total_earned_kop: int,
    direct_total: int,
    direct_paid: int,
    second_total: int,
    second_paid: int,
    today_direct: int,
    percent: int,
    next_tier_at: Optional[int],
) -> str:
    next_tier_line = (
        f"1-—è –ª–∏–Ω–∏—è —Å–µ–π—á–∞—Å: <b>{percent}%</b>. –î–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –æ—Å—Ç–∞–ª–æ—Å—å <b>{next_tier_at}</b> –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–ª–∞—Ç–∏–ª–∏."
        if next_tier_at is not None
        else f"1-—è –ª–∏–Ω–∏—è —Å–µ–π—á–∞—Å: <b>{percent}%</b>. –í—ã –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º —É—Ä–æ–≤–Ω–µ."
    )
    return (
        "ü§ù <b>–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</b>\n\n"
        "–ü–æ–º–æ–≥–∞–π—Ç–µ –¥—Ä—É–∑—å—è–º –∏ –∫–æ–ª–ª–µ–≥–∞–º <b>–ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤</b> ‚Äî –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–µ.\n\n"
        "üìä <b>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</b>\n"
        "<b>+1 –∑–∞–ø—Ä–æ—Å</b> –∑–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ (–Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø–æ –≤–∞—à–µ–π —Å—Å—ã–ª–∫–µ).\n"
        "<b>1-—è –ª–∏–Ω–∏—è</b> ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç —Å –ø–æ–∫—É–ø–æ–∫ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã—Ö:\n"
        "1‚Äì4 –æ–ø–ª–∞—Ç–∏–≤—à–∏—Ö: 15% | 5‚Äì14: 25% | 15‚Äì49: 35% | 50+: 45%\n"
        "<b>2-—è –ª–∏–Ω–∏—è</b> ‚Äî 5% —Å –ø–æ–∫—É–ø–æ–∫ –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏ –≤–∞—à–∏ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω—ã–µ.\n\n"
        f"{next_tier_line}\n\n"
        "üí∞ <b>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b>\n"
        f"<b>–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å:</b> {fmt_rub_from_kop(balance_kop)}\n"
        f"<b>–í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ:</b> {fmt_rub_from_kop(total_earned_kop)}\n\n"
        f"<b>1-—è –ª–∏–Ω–∏—è:</b> {direct_total} (–æ–ø–ª–∞—Ç–∏–≤—à–∏—Ö: {direct_paid})\n"
        f"<b>2-—è –ª–∏–Ω–∏—è:</b> {second_total} (–æ–ø–ª–∞—Ç–∏–≤—à–∏—Ö: {second_paid})\n"
        f"<b>–°–µ–≥–æ–¥–Ω—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–æ:</b> {today_direct}\n\n"
        "üîó <b>–í–∞—à–∞ —Å—Å—ã–ª–∫–∞</b>\n"
        f"{link}\n\n"
        "–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –¥—Ä—É–∑—å—è–º."
    )


def referrals_list_text(entries: list[dict]) -> str:
    if not entries:
        return "–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥—Ä—É–∑—å—è–º –∏ –∫–æ–ª–ª–µ–≥–∞–º."

    lines = ["üë• <b>–ú–æ–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã</b>"]
    for item in entries:
        username = item.get("username")
        full_name = item.get("full_name") or "–ë–µ–∑ –∏–º–µ–Ω–∏"
        paid = item.get("paid")
        status = "–æ–ø–ª–∞—Ç–∏–ª(–∞)" if paid else "–Ω–µ –æ–ø–ª–∞—á–∏–≤–∞–ª(–∞)"
        if username:
            label = f"@{username} ({full_name})"
        else:
            label = full_name
        lines.append(f"‚Ä¢ {label} ‚Äî {status}")
    return "\n".join(lines)


def ati_checking_text(ati: str) -> str:
    return (
        f"üîé <b>–ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–¥ –ê–¢–ò</b> <code>{ati}</code>‚Ä¶"
    )


def ati_invalid_code_text(ati: str) -> str:
    return (
        f"‚ùå –ö–æ–¥ –ê–¢–ò <code>{ati}</code> –Ω–µ –Ω–∞–π–¥–µ–Ω.\n\n"
        "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–µ—Ç –ª–∏ –æ—à–∏–±–∫–∏ –≤ —Ü–∏—Ñ—Ä–∞—Ö, –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–¥ –µ—â—ë —Ä–∞–∑."
    )


def ati_no_data_or_error_text(ati: str) -> str:
    return (
        f"‚ö†Ô∏è –°–µ–π—á–∞—Å –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–æ–¥—É –ê–¢–ò <code>{ati}</code>.\n\n"
        "–ó–∞–ø—Ä–æ—Å –Ω–µ —Å–ø–∏—Å–∞–Ω ‚Äî –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑ —á—É—Ç—å –ø–æ–∑–∂–µ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.\n\n"
        "–ß–∞—â–µ –≤—Å–µ–≥–æ —Ç–∞–∫ –±—ã–≤–∞–µ—Ç, –µ—Å–ª–∏ –∫–æ–¥ —É–∫–∞–∑–∞–Ω —Å –æ—à–∏–±–∫–æ–π –∏–ª–∏ –ø–æ –Ω–µ–º—É –ø–æ–∫–∞ –Ω–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö."
    )


def ref_create_tag_text() -> str:
    return (
        "‚úèÔ∏è <b>–°–æ–∑–¥–∞—Ç—å —Å–≤–æ—é —Å—Å—ã–ª–∫—É</b>\n\n"
        "–£–∫–∞–∂–∏—Ç–µ –æ–∫–æ–Ω—á–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏ (3‚Äì24 —Å–∏–º–≤–æ–ª–∞: –ª–∞—Ç–∏–Ω–∏—Ü–∞, —Ü–∏—Ñ—Ä—ã, –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ).\n"
        "–ü—Ä–∏–º–µ—Ä—ã: <code>andrei</code>, <code>company</code>, <code>partner01</code>"
    )


def ref_withdraw_text(balance_kop: int) -> str:
    balance = fmt_rub_from_kop(balance_kop)
    return (
        "üí∏ <b>–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</b>\n\n"
        f"–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å: {balance}\n"
        "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞: 10 USDT.\n"
        "–ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: 8% (–≤–∫–ª—é—á–∞–µ—Ç –∫–æ–º–∏—Å—Å–∏—é —Å–µ—Ç–∏).\n\n"
        "–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—Ç–∏—Ç–µ –≤—ã–≤–µ—Å—Ç–∏, <b>–≤ —Ä—É–±–ª—è—Ö</b> (–Ω–∞–ø—Ä–∏–º–µ—Ä: <code>1500</code>).\n"
        "–ú—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ –ø–æ —Ç–µ–∫—É—â–µ–º—É –∫—É—Ä—Å—É "
        "–∏ –ø–æ–∫–∞–∂–µ–º, —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –ø—Ä–∏–º–µ—Ä–Ω–æ –≤ USDT."
    )


def ref_withdraw_details_prompt(amount_rub: int, amount_usdt: float) -> str:
    return (
        "üí∏ <b>–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥</b>\n\n"
        f"–°—É–º–º–∞: {amount_rub} ‚ÇΩ (‚âà {amount_usdt:.2f} USDT –ø–æ —Ç–µ–∫—É—â–µ–º—É –∫—É—Ä—Å—É).\n\n"
        "–£–∫–∞–∂–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –≤—ã–ø–ª–∞—Ç—ã:\n"
        "‚Ä¢ Telegram Stars ‚Äî @username.\n"
        "‚Ä¢ USDT (BEP20 / ERC20 / TON) ‚Äî —Å–µ—Ç—å –∏ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞.\n\n"
        "–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É."
    )


def company_ati_ask() -> str:
    """–ó–∞–ø—Ä–æ—Å —É–∫–∞–∑–∞—Ç—å –∫–æ–¥ –ê–¢–ò –∫–æ–º–ø–∞–Ω–∏–∏."""

    return (
        "–û–ø–ª–∞—Ç–∞ –ø—Ä–æ—à–ª–∞ ‚úî\n\n"
        "–£–∫–∞–∂–∏—Ç–µ –∫–æ–¥ –ê–¢–ò –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏ (–¥–æ 7 —Ü–∏—Ñ—Ä).\n"
        "–≠—Ç–æ –Ω—É–∂–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑, —á—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É."
    )


def company_ati_why() -> str:
    """–û–±—ä—è—Å–Ω–µ–Ω–∏–µ, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω –∫–æ–¥ –∫–æ–º–ø–∞–Ω–∏–∏."""

    return (
        "–ß—Ç–æ–±—ã –±—ã—Å—Ç—Ä–µ–µ –ø–æ–º–æ–≥–∞—Ç—å –≤–∞–º –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∏. –ö–æ–¥ –ê–¢–ò –≤–∏–¥–∏–º —Ç–æ–ª—å–∫–æ –º—ã. "
        "–í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç."
    )


def company_ati_saved(ati: str) -> str:
    """–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∫–æ–º–ø–∞–Ω–∏–∏."""

    return f"–ì–æ—Ç–æ–≤–æ, –∫–æ–¥ –ê–¢–ò –∫–æ–º–ø–∞–Ω–∏–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω: {ati}. –ò–∑–º–µ–Ω–∏—Ç—å –º–æ–∂–Ω–æ –≤ –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏."


def company_ati_later() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ –∫–æ–¥ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–æ–∑–∂–µ."""

    return "–•–æ—Ä–æ—à–æ, –Ω–∞–ø–æ–º–Ω–∏–º –ø–æ–∑–∂–µ. –£–∫–∞–∑–∞—Ç—å –º–æ–∂–Ω–æ –≤ –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏."


def company_ati_banner_not_set() -> str:
    """–ë–∞–Ω–Ω–µ—Ä –æ —Ç–æ–º, —á—Ç–æ –∫–æ–¥ –Ω–µ —É–∫–∞–∑–∞–Ω."""

    return "–ö–æ–¥ –ê–¢–ò –∫–æ–º–ø–∞–Ω–∏–∏ –Ω–µ —É–∫–∞–∑–∞–Ω. [–£–∫–∞–∑–∞—Ç—å]"


def company_ati_change_confirm(new_code: str) -> str:
    """–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –∫–æ–º–ø–∞–Ω–∏–∏."""

    return f"–£–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –Ω–∞ {new_code}?"


def history_header() -> str:
    """–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏—Å—Ç–æ—Ä–∏–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫."""

    return "–ò—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π"


def history_item_line(status_emoji: str, ati: str, dt: str) -> str:
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –¥–ª—è –∑–∞–ø–∏—Å–∏ –∏—Å—Ç–æ—Ä–∏–∏."""

    return f"{status_emoji} {ati} ‚Ä¢ {dt}"


def history_no_more() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π."""

    return "–≠—Ç–æ –≤—Å—ë –Ω–∞ —Å–µ–π—á–∞—Å."


def history_empty() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—É—Å—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–∏."""

    return "–ü–æ–∫–∞ –Ω–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π."


def history_empty_hint() -> str:
    """–ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä–∏ –ø—É—Å—Ç–æ–π –∏—Å—Ç–æ—Ä–∏–∏."""

    return "–ü—Ä–∏—à–ª–∏—Ç–µ –∫–æ–¥ –ê–¢–ò (–¥–æ 7 —Ü–∏—Ñ—Ä) ‚Äî –ø—Ä–æ–≤–µ—Ä–∏–º —Å—Ä–∞–∑—É."


def help_main() -> str:
    """–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞ –ø–æ–º–æ—â–∏."""

    return "–ü–æ–º–æ—â—å"


def faq_text() -> str:
    """–û—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã."""

    tz = getattr(cfg, "tz", "Europe/Moscow")
    free_total = getattr(cfg, "free_count", 5)
    free_hours = getattr(cfg, "free_ttl_hours", 72)
    free_days = max(1, round(free_hours / 24))
    free_days_word = _plural(free_days, "–¥–µ–Ω—å", "–¥–Ω—è", "–¥–Ω–µ–π")

    plan_descriptions: list[str] = []
    plan_p20 = cfg.plans.get("p20")
    plan_p50 = cfg.plans.get("p50")
    plan_unlim = cfg.plans.get("unlim")

    if plan_p20 is not None and plan_p20.checks_in_pack:
        plan_descriptions.append(
            f"{plan_p20.checks_in_pack} –ø—Ä–æ–≤–µ—Ä–æ–∫ ‚Äî {fmt_rub(plan_p20.price_rub)}"
        )
    if plan_p50 is not None and plan_p50.checks_in_pack:
        plan_descriptions.append(
            f"{plan_p50.checks_in_pack} –ø—Ä–æ–≤–µ—Ä–æ–∫ ‚Äî {fmt_rub(plan_p50.price_rub)}"
        )
    if plan_unlim is not None:
        cap_suffix = (
            f" (–¥–æ {plan_unlim.daily_cap} –≤ —Å—É—Ç–∫–∏)" if plan_unlim.daily_cap else ""
        )
        plan_descriptions.append(
            f"{plan_unlim.title} ‚Äî {fmt_rub(plan_unlim.price_rub)}{cap_suffix}"
        )

    plans_line = "; ".join(plan_descriptions) if plan_descriptions else "–ü–ª–∞–Ω—ã –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤ —á–∞—Ç–µ."
    free_line = f"{free_total} –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ {free_days} {free_days_word}"
    unlim_cap = plan_unlim.daily_cap if plan_unlim is not None else None
    unlim_line = (
        f"–î–æ {unlim_cap} –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ —Å—É—Ç–∫–∏" if unlim_cap else "–ë–µ–∑–ª–∏–º–∏—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ"
    )

    return (
        "–í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã:\n\n"
        "‚Ä¢ –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É? ‚Äî –ü—Ä–∏—à–ª–∏—Ç–µ –∫–æ–¥ –ê–¢–ò (–¥–æ 7 —Ü–∏—Ñ—Ä) –≤ —á–∞—Ç, –∏ –º—ã —Å—Ä–∞–∑—É –¥–∞–¥–∏–º –æ—Ç—á—ë—Ç.\n"
        "‚Ä¢ –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å? ‚Äî –í—ã–±–µ—Ä–∏—Ç–µ –∏ –æ–ø–ª–∞—Ç–∏—Ç–µ –ø–ª–∞–Ω. –í—Å—ë –∑–∞–Ω–∏–º–∞–µ—Ç –º–∏–Ω—É—Ç—É.\n"
        f"‚Ä¢ –ö–∞–∫–∏–µ –ø–ª–∞–Ω—ã –¥–æ—Å—Ç—É–ø–Ω—ã? ‚Äî {plans_line}.\n"
        f"‚Ä¢ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏? ‚Äî –ù–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤—ã–¥–∞—ë—Ç—Å—è {free_line}.\n"
        f"‚Ä¢ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑–ª–∏–º–∏—Ç? ‚Äî {unlim_line}, —Å—á—ë—Ç—á–∏–∫ –æ–±–Ω—É–ª—è–µ—Ç—Å—è –≤ 00:00 ({tz}).\n"
        "‚Ä¢ –ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –∏–∑ –±–∞–ª–∞–Ω—Å–∞? ‚Äî –≠—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –∏ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å¬ª.\n"
        "‚Ä¢ –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –ê–¢–ò –∫–æ–º–ø–∞–Ω–∏–∏? ‚Äî –ü—Ä–æ—Ñ–∏–ª—å ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏."
    )


def support_pretext() -> str:
    """–ü–æ–¥—Å–∫–∞–∑–∫–∞ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É."""

    return "–ï—Å–ª–∏ –æ—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º."


def support_text() -> str:
    return "üÜò <b>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</b>\n\n–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å ‚Äî –º—ã –ø–æ–º–æ–∂–µ–º."


def report_a(ati: str, lin: int, exp: int, tail: str) -> str:
    """–û–±—â–∏–π –æ—Ç—á—ë—Ç —Å –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º."""

    return (
        f"üü¢ <b>–ö–æ–¥ –ê–¢–ò {ati} —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—à—ë–ª –ø—Ä–æ–≤–µ—Ä–∫—É.</b>\n\n"
        f"üìà <b>–ò–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞</b>: {lin}\n"
        f"üìà <b>–ò–Ω–¥–µ–∫—Å —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞</b>: {exp}\n\n"
        "üõ° <b>–ß—ë—Ä–Ω—ã–µ —Å–ø–∏—Å–∫–∏</b>: —Ä–∏—Å–∫ –Ω–µ –≤—ã—è–≤–ª–µ–Ω \n\n"
        f"{tail}"
    )


def report_b(ati: str, lin: int, exp: int) -> str:
    """–û–±—â–∏–π –æ—Ç—á—ë—Ç —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º —Ä–∏—Å–∫–æ–º."""

    return (
        f"üü° <b>–ö–æ–¥ –ê–¢–ò {ati} –æ–±–Ω–∞—Ä—É–∂–µ–Ω –≤ –Ω–∞—à–µ–º —Ä–µ–µ—Å—Ç—Ä–µ –ø—Ä–æ–≤–µ—Ä–æ–∫.</b>\n\n"
        f"üìà <b>–ò–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞</b>: {lin}\n"
        f"üìà <b>–ò–Ω–¥–µ–∫—Å —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞</b>: {exp}\n\n"
        "üõ° <b>–ß—ë—Ä–Ω—ã–µ —Å–ø–∏—Å–∫–∏</b>: ‚ÅâÔ∏è –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —Ä–∏—Å–∫\n\n"
        "–ü–æ –¥–∞–Ω–Ω—ã–º –Ω–∞—à–µ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, –µ—Å—Ç—å —Ä–∏—Å–∫–∏. –û—Ü–µ–Ω–∫–∞ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤."
    )


def report_c(ati: str, lin: int, exp: int) -> str:
    """–û–±—â–∏–π –æ—Ç—á—ë—Ç —Å –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º."""

    return (
        f"üü° <b>–ö–æ–¥ –ê–¢–ò {ati} –ø—Ä–æ–≤–µ—Ä–µ–Ω.</b>\n\n"
        f"üìà <b>–ò–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞</b>: {lin}\n"
        f"üìà <b>–ò–Ω–¥–µ–∫—Å —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞</b>: {exp}\n\n"
        "üõ° <b>–ß—ë—Ä–Ω—ã–µ —Å–ø–∏—Å–∫–∏</b>: –Ω–µ –≤—ã—è–≤–ª–µ–Ω —Ä–∏—Å–∫\n\n"
        "–ü–æ –Ω–∞—à–∏–º –¥–∞–Ω–Ω—ã–º —É –∫–æ–º–ø–∞–Ω–∏–∏ –µ—Å—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã–µ —Å–≤—è–∑–∏, –Ω–æ –∏—Ö –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏."
    )


def report_d(ati: str, lin: int, exp: int) -> str:
    """–û–±—â–∏–π –æ—Ç—á—ë—Ç —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º —Ä–∏—Å–∫–æ–º."""

    return (
        f"üî¥ <b>–ö–æ–¥ –ê–¢–ò {ati} –Ω–µ –ø—Ä–æ—à—ë–ª –ø—Ä–æ–≤–µ—Ä–∫—É.</b>\n\n"
        f"üìà <b>–ò–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞</b>: {lin}\n"
        f"üìà <b>–ò–Ω–¥–µ–∫—Å —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞</b>: {exp}\n\n"
        "üõ° <b>–ß—ë—Ä–Ω—ã–µ —Å–ø–∏—Å–∫–∏</b>: ‚õîÔ∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ä–∏—Å–∫ \n\n"
        "–ü–æ –¥–∞–Ω–Ω—ã–º –Ω–∞—à–µ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏, –µ—Å—Ç—å —Ä–∏—Å–∫–∏. –û—Ü–µ–Ω–∫–∞ —Å—É–±—ä–µ–∫—Ç–∏–≤–Ω–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∞ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –±–ª–∞–≥–æ–ø—Ä–∏—è—Ç–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤."
    )


def report_e(ati: str) -> str:
    """–û–±—â–∏–π –æ—Ç—á—ë—Ç –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö."""

    return (
        f"üü° <b>–ö–æ–¥ –ê–¢–ò {ati} –Ω–∞–π–¥–µ–Ω, –Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π –≤ –Ω–∞—à–∏—Ö —Ä–µ–µ—Å—Ç—Ä–∞—Ö –Ω–µ—Ç.</b>\n\n"
        "üìà <b>–ò–Ω–¥–µ–∫—Å –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞</b>: 0\n"
        "üìà <b>–ò–Ω–¥–µ–∫—Å —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞</b>: 0\n\n"
        "üõ° <b>–ß—ë—Ä–Ω—ã–µ —Å–ø–∏—Å–∫–∏</b>: –Ω–µ –≤—ã—è–≤–ª–µ–Ω —Ä–∏—Å–∫\n\n"
        "–ü–æ –Ω–∞—à–∏–º –¥–∞–Ω–Ω—ã–º —É –∫–æ–º–ø–∞–Ω–∏–∏ –ø–æ–∫–∞ –Ω–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π —Å –∫—Ä—É–ø–Ω—ã–º–∏ –Ω–∞–¥—ë–∂–Ω—ã–º–∏ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞–º–∏."
    )


__all__ = [
    # helpers
    "progress_bar", "fmt_rub", "bullet_list", "fmt_percent",
    # buttons
    "ACTION_BTN_CHECK", "ACTION_BTN_HISTORY", "ACTION_BTN_MENU",
    "BTN_BACK", "BTN_MENU", "BTN_MORE",
    "BTN_BUY_P20", "BTN_BUY_P50", "BTN_BUY_UNLIM",
    "BTN_REPEAT_PAYMENT", "BTN_CHOOSE_ANOTHER_PLAN",
    "BTN_PAY_SUPPORT", "BTN_SUPPORT", "BTN_FAQ",
    "DEMO_PAYMENT_HEADER", "DEMO_PAYMENT_NOTE", "DEMO_PAYMENT_CREATED",
    "DEMO_PAYMENT_CONFIRMED", "DEMO_PAYMENT_REJECTED", "PAYMENT_TERMS_NOTE",
    "BTN_MY_REF_LINK", "BTN_HOW_IT_WORKS",
    "BTN_REF_COPY", "BTN_REF_SHARE",
    "BTN_REF_SPEND_20", "BTN_REF_SPEND_50", "BTN_REF_SPEND_UNLIM", "BTN_REF_WITHDRAW",
    "BTN_WHY_ASK", "BTN_SET_LATER", "BTN_SET_NOW", "BTN_CHANGE_CODE", "BTN_CHECK_THIS_CODE",
    # basics/errors
    "hint_send_code", "invalid_input_non_digits", "err_need_digits_upto_7", "err_need_digits_3_7",
    "too_many_requests", "throttle_msg",
    # plans/payments
    "plans_list", "paywall_no_checks", "payment_success",
    "payment_incomplete", "payment_timeout", "payment_failed_try_again", "refund_processed",
    # free/reactivation
    "free_pack_status", "nudge_enter_code", "free_expiring_24h",
    "free_low_left", "payment_abandoned", "inactive_with_active_subscription",
    "winback_no_activity", "unlim_cap_hit_today",
    # status/profile
    "status_line_metered_exact", "profile_overview_metered_exact",
    "status_line_unlim", "profile_overview_unlim",
    # referral
    "ref_header", "ref_link_block", "ref_level_block", "ref_earnings_block",
    "ref_spend_withdraw_block", "ref_how_it_works", "ref_levels_table",
    "wallet_only_in_referral_notice", "ref_balance_only_here_notice",
    # company ati
    "company_ati_ask", "company_ati_why", "company_ati_saved",
    "company_ati_later", "company_ati_banner_not_set", "company_ati_change_confirm",
    # history/help
    "history_header", "history_item_line", "history_no_more", "history_empty", "history_empty_hint",
    "help_main", "faq_text", "support_pretext",
    # reports
    "report_a", "report_b", "report_c", "report_d", "report_e",
    "ref_withdraw_details_prompt",
    "ati_checking_text", "ati_invalid_code_text", "ati_no_data_or_error_text",
]
